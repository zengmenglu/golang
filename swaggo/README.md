# 功能

swaggo 提供了自动生成 RESTful API 文档的功能。

# 准备工作
安装gin插件
```
go get -u -v github.com/gin-gonic/gin
```

安装swag工具
```
go get -u github.com/swaggo/swag/cmd/swag
```

执行完成后，需要将swag所在路径设置为PATH，将$GOPATH/bin 加入到$PATH中：
```
export PATH=$PATH:$GOPATH/bin
``` 
验证是否成功：
```
swag -v
```

# Get Started
```
package main

import (
	"github.com/gin-gonic/gin"
	swaggerFiles "github.com/swaggo/files"
	"github.com/swaggo/gin-swagger"
	"net/http"

	_ "swaggo/start/docs" // docs is generated by Swag CLI, you have to import it.
)

// @title Swagger Example API
// @version 1.0
// @description This is a sample server Petstore server.
// @termsOfService http://swagger.io/terms/
// @contact.name API Support
// @contact.url http://www.swagger.io/support
// @contact.email support@swagger.io
// @license.name Apache 2.0
// @license.url http://www.apache.org/licenses/LICENSE-2.0.html
// @host petstore.swagger.io
// @BasePath /v2
func main(){
	r := gin.Default()
	config := &ginSwagger.Config{
		URL: "http://localhost:8089/swagger/doc.json", //The url pointing to API definition
	}
	r.GET("/ping", get)
	r.GET("/swagger/*any", ginSwagger.CustomWrapHandler(config,swaggerFiles.Handler))
	r.Run(":8089")
}

// @Summary 路由检测
// @Produce  json
// @Success 200 {string} json "{"code":200,"data":{},"msg":"ok"}"
// @Router /ping [get]
func get(c *gin.Context){
	c.JSON(http.StatusOK, gin.H{
		"message": "pong",
	})
}
```

在main文件下执行
```
swag init
```
会在此路径下生成 docs/目录，将该目录 隐式 import到包含下列代码的go文件即可。每次更新api都需要重新执行```swag init```. 
```
router.GET("/swagger/*any", ginSwagger.WrapHandler(swaggerFiles.Handler))
```




> 注意事项:
>
> 必须在main文件下执行一下命令，且main文件必须在项目的根目录。 
>
> ```swag init```

# 标签
https://swaggo.github.io/swaggo.io/declarative_comments_format/general_api_info.html


> 参考资料
> * swaggo源码：https://github.com/swaggo/gin-swagger
> * 官方文档：https://swaggo.github.io/swaggo.io/
> * 官方文档：https://godoc.org/github.com/swaggo/gin-swagger
